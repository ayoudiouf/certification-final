<div class="wrapper">
  <!-- Sidebar -->
  <app-sitebar></app-sitebar>
  <!-- Main Component -->
  <div class="main ">
      <app-header-sidebar></app-header-sidebar>
      <main class="content px-3 py-2">
          <!-- COntenue dynamique -->
          <div class="container-fluid overflow-y-scroll" style="height: 88vh;">
          <h1 class="text text-black text-center">#Liste des étudiants par mérite</h1>


          <button (click)="filterStudents('all')">Tout les étudiants</button>
          <button (click)="filterStudents('licence1')">Licence 1</button>
          <button (click)="filterStudents('licence2')">Licence 2</button>
          <table datatable [dtOptions]="dtOptions" class="row-border hover w-100 table" *ngIf="etudiantParMerites.length >0">

            <thead class="titre" style="background-color: #A41034;">
                <tr>
                  <!-- <th class="tHead">ID</th> -->
                  <th class="tHead">Nom</th>
                  <th class="tHead">Prenom</th>
                  <th class="tHead">Email</th>
                  <th class="tHead">Téléphone </th>
                  <th class="tHead">INE</th>
                  <th class="tHead">Niveau d'Etudes </th>
                  <th class="tHead">Sexe </th>
                  <th class="tHead">Adresse </th>
                  <th class="tHead">Etats </th>
                  <th class="tHead">Action</th>

                </tr>
              </thead>
              <tbody>

                <tr *ngFor="let etudiantParMerite of etudiantParMerites">

                  <!-- <td>{{etudiantParMerite.id}}</td> -->
                  <td>{{etudiantParMerite.nom }}</td>
                  <td>{{etudiantParMerite.prenom }}</td>
                  <td>{{etudiantParMerite.email }}</td>
                  <td>{{etudiantParMerite.telephone }}</td>
                  <td>{{etudiantParMerite.INE }}</td>
                  <td>{{etudiantParMerite.niveau_etudes}}</td>
                  <td>{{etudiantParMerite.sexe }}</td>
                  <td>{{etudiantParMerite.adresse }}</td>
                  <td>{{etudiantParMerite.Etat }}</td>
                  <td>
                    <span id="icon" >

                      <!-- <button (click)="validerEtudiant(etudiantParMerite.id)">
                        <i class="fa-solid fa-square-check"></i>
                      </button> -->
                          <button disabled *ngIf="etudiantParMerite.Etat == 'Validé'" [ngClass]="{disabled:etudiantParMerite.Etat == 'Validé'}" style="cursor: not-allowed; background-color: green;">
                            <i class="fa-solid fa-square-check" >
                            </i>
                          </button>

                          <button *ngIf="etudiantParMerite.Etat != 'Validé'">
                            <i class="fa-solid fa-square-check" (click)="validerEtudiant(etudiantParMerite.id)">
                            </i>
                          </button>
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>

            <table *ngIf="etudiantParMerites.length <0">
              <thead>
                  <tr>
                      <th>nom</th>
                      <th>prenom</th>
                      <th>email</th>
                      <th>telephone</th>
                      <th>INE</th>
                      <th>niveau_etudes</th>
                      <th>sexe</th>

                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td colspan="7">Aucune donnée disponible au niveau du tableau</td>
                  </tr>
              </tbody>
            </table>
          </div>
      </main>
  </div>
</div>




