<div class="wrapper">
  <!-- Sidebar -->
  <app-sidebarchefpedagogique></app-sidebarchefpedagogique>
  <!-- Main Component -->
  <div class="main ">
      <app-header-sidebar></app-header-sidebar>
      <main class="content px-3 py-2">
          <!-- COntenue dynamique -->
          <div class="container-fluid overflow-y-scroll h-75" style="height: 88vh; ">
            <h1 class="text text-black text-center">Liste des étudiants par mérite</h1>
            <button type="button " data-bs-toggle="modal"  data-bs-target="#ajouterEtudiant" style="background-color: #A41034; color: white; width: 10%;height: 40px; border-radius: 10px;">Ajouter</button>

            <table datatable [dtOptions]="dtOptions" class="row-border hover w-100 table">

              <thead>
                <tr>

                  <th class="tHead">Nom</th>
                  <th class="tHead">Prenom</th>
                  <th class="tHead">Licence</th>
                  <th class="tHead">Telephone </th>
                  <th class="tHead">INE</th>
                  <th class="tHead">Adress</th>
                  <th class="tHead">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let etudiants of etudiantsparmerites">
                  <td>{{etudiants.nom}}</td>
                  <td>{{etudiants.prenom}}</td>
                  <td>{{etudiants.niveau_etudes}}</td>
                  <td>{{etudiants.telephone}}</td>
                  <td>{{etudiants.INE}}</td>
                  <td>{{etudiants.adresse}}</td>
                  <!-- <td>{{etudiants.nom}}</td> -->

                  <td><span id="icon">
                    <button>
                      <i class="fa-solid fa-marker" data-bs-toggle="modal"
                      data-bs-target="#Modifier" (click)="chargerEtudiant(etudiants)" ></i>
                    </button>
                    <button>
                      <i class="fa-solid fa-eye"  data-bs-toggle="modal"
                      data-bs-target="#detailsEtudiants"  (click)="GetEtudiantParMerite(etudiants)"  ></i>
                    </button>
                    <!-- <button>
                      <i class="fa-solid fa-trash"></i>
                    </button> -->
                  </span></td>
                </tr>

              </tbody>
            </table>
          </div>
      </main>
  </div>
</div>
<!-- modal ajout Etudiant -->
<div class="modal fade" id="ajouterEtudiant" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Ajouter les etudiant par odre de mérite</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="" [formGroup]="profileForm">

          <!-- Nom -->
          <div class="mb-3">
            <label for="exampleInputnom" class="form-label">Nom</label>
            <input type="text" class="form-control" id="exampleInputId1" aria-describedby="nomHelp">
            <div id="nomHelp" class="form-text"></div>
          </div>
          <div class="mb-3">

            <!-- Prenom -->
            <label for="exampleInputpremon" class="form-label">Prenom</label>
            <input type="text" class="form-control" id="exampleInputPrenom1" aria-describedby="premonHelp">
            <div id="premonHelp" class="form-text"></div>
          </div>

          <!-- Telephone -->
          <div class="mb-3">
            <label for="exampleInputtelephone" class="form-label">Telephone</label>
            <input type="text" class="form-control" id="exampleInputtelephone" aria-describedby="telephoneHelp">
            <div id="telephoneHelp" class="form-text"></div>
          </div>

          <!--
          Niveau Etudes -->
          <div class="mb-3">
            <label for="exampleInputstatut" class="form-label">Niveau d'étude</label>
            <input type="text" class="form-control" id="exampleInputetude" aria-describedby="etudeHelp">
            <div id="etudeHelp" class="form-text"></div>
          </div>

          <!-- Notes -->
          <div class="mb-3">
            <label for="exampleInputnotes" class="form-label">Notes</label>
            <input type="text" class="form-control" id="exampleInputnotes" aria-describedby="notesHelp">
            <div id="notesHelp" class="form-text"></div>
          </div>

           <!--INE  -->
           <div class="mb-3">
            <label for="exampleInputINE" class="form-label">INE</label>
            <input type="text" class="form-control" id="exampleINE" aria-describedby="INEHelp">
            <div id="INEHelp" class="form-text"></div>
          </div>

          <!-- Adress -->
          <div class="mb-3">
            <label for="exampleInputadresse" class="form-label">Adress</label>
            <input type="text" class="form-control" id="exampleInputadresse" aria-describedby="adresseHelp">
            <div id="adresseHelp" class="form-text"></div>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
        <button type="button" class="typebutton btn btn-primary" (click)="ajouterEtudiant()">Ajouter</button>
      </div>
    </div>
  </div>
</div>

<!-- The Modal Modifier-->
<div class="modal" id="Modifier" >
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Modifier Etudiant</h4>
        <button type="button" class="btn-close" data-bs-dismiss="Modifier"
        ></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <form action="" [formGroup]="profileFormEdite">
        <!-- Nom -->
        <div class="mb-3">
          <label for="nom" class="form-label">Nom</label>
          <input type="text" class="form-control" id="libelle" aria-describedby="nomHelp2" formControlName="nom"  name="nom" [(ngModel)]="nom"  />
          <div id="nom" class="form-text"></div>
        </div>

        <!-- Prenom -->
        <div class="mb-3">
          <label for="prenomForm" class="form-label">Prenom</label>
          <input type="text" class="form-control" name="type_chambre" id="exampleInputPrenom" aria-describedby="prenomHelp" formControlName="prenom" [(ngModel)]="prenom" />
          <div id="prenomForm" class="form-text"></div>
        </div>

        <!-- Niveau Etude -->
        <div class="mb-3">
          <label for="niveau_etudesForm" class="form-label">Niveau Etude</label>
          <input type="text" class="form-control" id="niveau_etudesForm" name="niveau_etudes" aria-describedby="niveau_etudesEditionForm"  formControlName="niveau_etudes"[(ngModel)]="niveau_etudes"/>
          <div id="niveau_etudesForm" class="form-text"></div>
        </div>

        <!-- Telephone -->
        <div class="mb-3">
          <label for="telephoneForm" class="form-label">Nombres Limites</label>
          <input type="text" class="form-control" name="telephone" id="telephoneForm" aria-describedby="telephoneHelp" formControlName="telephone" [(ngModel)]="telephone" />

          <div id="telephoneForm" class="form-text"></div>
        </div>

        <!-- INE -->
        <div class="mb-3">
          <label for="INEForm" class="form-label">INE</label>
          <input type="text" class="form-control" name="INE" id="INEForm" aria-describedby="INEHelp" formControlName="INE" [(ngModel)]="INE" />

          <div id="INEForm" class="form-text"></div>
        </div>

         <!-- Adresse -->
         <div class="mb-3">
          <label for="adresseForm" class="form-label">Adresse</label>
          <input type="text" class="form-control" name="INE" id="adresseForm" aria-describedby="adresseHelp" formControlName="adresse" [(ngModel)]="adresse" />

          <div id="adresseForm" class="form-text"></div>
        </div>

      </form>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="putEtutudiant()" >
          Modifier
        </button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal detail Etudiant -->
<div class="modal fade" id="detailsEtudiants" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Ajouter les etudiant par odre de mérite</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>

          <!-- Nom -->
          <div class="mb-3">
            <label for="exampleInputnom" class="form-label">Nom:{{seletedEtudiantParMerite.nom}}</label>
            <div id="nomHelp" class="form-text"></div>
          </div>
          <div class="mb-3">

            <!-- Prenom -->
            <label for="exampleInputpremon" class="form-label">Prenom:{{seletedEtudiantParMerite.prenom}}</label>
            <div id="premonHelp" class="form-text"></div>
          </div>

          <!-- Telephone -->
          <div class="mb-3">
            <label for="exampleInputtelephone" class="form-label">Telephone:{{seletedEtudiantParMerite.telephone}}</label>
            <div id="telephoneHelp" class="form-text"></div>
          </div>

          <!--
          Niveau Etudes -->
          <div class="mb-3">
            <label for="exampleInputstatut" class="form-label">Niveau d'étude:{{seletedEtudiantParMerite.niveau_etudes}}</label>
            <div id="etudeHelp" class="form-text"></div>
          </div>

          <!-- Notes -->
          <div class="mb-3">
            <label for="exampleInputnotes" class="form-label">Notes:{{seletedEtudiantParMerite.notes}}</label>
            <div id="notesHelp" class="form-text"></div>
          </div>

           <!--INE  -->
           <div class="mb-3">
            <label for="exampleInputINE" class="form-label">INE:{{seletedEtudiantParMerite.INE}}</label>
            <div id="INEHelp" class="form-text"></div>
          </div>

          <!-- Adress -->
          <div class="mb-3">
            <label for="exampleInputadresse" class="form-label">Adress:{{seletedEtudiantParMerite.adresse}}</label>
            <div id="adresseHelp" class="form-text"></div>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>

      </div>
    </div>
  </div>
</div>
